<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Users – Floorsense Admin Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
</head>
<body>
    <div class="top-bar">
        <img src="images/fslogosmallwhite.png" alt="Logo" class="logo">
        <nav class="menu">
            <a href="index.html" class="menu-item">
                <img src="images/mapicon.png" alt="" class="menu-icon">
                <span>Floorplans</span>
                    <div class="tooltip tooltip-down">Floorplans</div>
            </a>
            <a href="users.html" class="menu-item">
                <img src="images/personicon.png" alt="" class="menu-icon">
                <span>Users</span>
            </a>
            <a href="#" class="menu-item">
                <img src="images/lockericon.png" alt="" class="menu-icon">
                <span>Lockers</span>
            </a>
            <a href="#" class="menu-item">
                <img src="images/clockicon.png" alt="" class="menu-icon">
                <span>Reservations</span>
            </a>
            <a href="#" class="menu-item">
                <img src="images/groupsicon.png" alt="" class="menu-icon">
                <span>Groups</span>
            </a>
            <a href="#" class="menu-item">
                <img src="images/analyticsicon.png" alt="" class="menu-icon">
                <span>Analytics</span>
            </a>
            <a href="#" class="menu-item">
                <img src="images/settingsicon.png" alt="" class="menu-icon">
                <span>Settings</span>
            </a>
            <img src="images/avatar.png" alt="Avatar" class="avatar">
        </nav>
    </div>
    
    <div class="secondary-bar">
        <div class="filter-item">
            <img src="images/searchicon.png" alt="" class="filter-icon">
            <input type="text" class="search-input" style="width:235px" placeholder="Search by Username or Card Number">
        </div>
        
        <div class="secondaryaction">
            <img src="images/addusericon.png" alt="" class="filter-icon">
            Add New User
        </div>

        <div class="secondaryaction">
            <img src="images/createvouchericon.png" alt="" class="filter-icon">
            Create Visitor Pass
        </div>

    </div>
    
        <div class="content" id="content">
            <div class="map-container" id="mapContainer">

            </div>


<!-- Info Panel (Appears when user is selected) -->

<div class="side-panel" id="sidePanel">

 <div class="panel-title">

        <div style="display: flex; align-items: center; gap: 8px;">
            <span id="panelTitleText"></span>
            <div id="panelMoreInfoIcon" style="position: relative; display: none;">
                <img src="images/moreinfoicon.png" style="cursor:pointer; width: 16px; height: 16px;">
                <div class="tooltip tooltip-right">More Info</div>
            </div>
        </div>

        <div id="panelTitleIcon" style="position: relative; display: none;">
            <img src="images/eventicon.png" style="cursor:pointer; width: 20px; height: 20px;">
            <div class="tooltip tooltip-left">Event Log</div>
        </div>
        <span class="panel-count" id="panelCount" style="display: none;"></span>
    </div>

    <div class="panel-content" id="panelContent">
            <div id="singleDeskContent" style="display: none;">

    <div class="info-section" id="infoSection">

        <div class="info-content">
                        <div class="info-row">
                <span class="info-label">Code</span>
                <span class="info-value">00124b001cb9c3e2</span>
            </div>
                        <div class="info-row">
                <span class="info-label">Location</span>
                <span class="info-value">3/2/180</span>
            </div>
            <div class="info-row">
                <span class="info-label">Desk Type</span>
                <span class="info-value">Workstation</span>
            </div>
            <div class="info-row">
                <span class="info-label">Group</span>
                <span class="info-value">Default</span>
            </div>
            <div class="info-row">
                <span class="info-label">Zone</span>
                <span class="info-value">Default</span>
            </div>

        </div>

        <div class="info-content">
            <div class="info-row">
                <span class="info-label">Status</span>
                <span class="info-value" style="color:#00c18d">Online</span>
            </div>
            <div class="info-row">
                <span class="info-label">Disabled</span>
                <span class="info-value">No</span>
            </div>
            <div class="info-row">
                <span class="info-label">Occupied</span>
                <span class="info-value">No</span>
            </div>
            <div class="info-row">
                <span class="info-label">Reserved</span>
                <span class="info-value">No</span>
            </div>
                        <div class="info-row">
                <span class="info-label">Cleaning Status</span>
                <span class="info-value">Clean</span>
            </div>
        </div>


        </div>

         <div class="info-section" id="infoSection">
        <div class="info-content">
            <div class="info-row">
                <span class="info-label">Reserved</span>
                <span class="info-value">No</span>
            </div>
            </div>
            </div>
            <div class="panel-field">
                    <div class="panel-label">Desk Type</div>
                    <select class="panel-select">
                        <option value="">Select Type</option>
                        <option value="standard">Standard</option>
                        <option value="standing">Standing</option>
                        <option value="executive">Executive</option>
                    </select>   
                </div>
                <div class="panel-field">
                    <div class="panel-label">Desk Group</div>
                    <select class="panel-select">
                        <option value="">Select Group</option>
                        <option value="engineering">Engineering</option>
                        <option value="sales">Sales</option>
                        <option value="marketing">Marketing</option>
                    </select>
                </div>
                <div class="panel-field">
                    <div class="panel-label">Desk Zone</div>
                    <select class="panel-select">
                        <option value="">Select Zone</option>
                        <option value="quiet">Quiet Zone</option>
                        <option value="collaborative">Collaborative Zone</option>
                        <option value="window">Window Zone</option>
                    </select>
                </div>
             
                           <div class="section-divider"></div>

            <div class="panel-field-inline">
                <div class="panel-label">Desk Tags</div>
                <div class="clear-all">Clear All Tags</div>
            </div>
                <div class="tags-container">
                    <span class="tag">Wow <span class="tag-close">×</span></span>
                    <span class="tag">Too Hot<span class="tag-close">×</span></span>
                    <span class="tag">Five Screens<span class="tag-close">×</span></span>
                    <span class="tag">Burst Water Main<span class="tag-close">×</span></span>
                </div>

        <div class="section-divider"></div>

            <div class="deskaction-container">
                <div class="deskaction"><img src="images/lighticon.png">Test Light</div>
                <div class="deskaction"><img src="images/speakericon.png">Test Speaker</div>
                <div class="deskaction"><img src="images/cleanicon.png">Mark Clean</div>
            </div>

        <div class="section-divider"></div> 

                    <div class="panel-field-inline">
                <div class="panel-label">Set Desk Status</div>
                    <div class="two-state-button">
                        <button class="state-btn state-off" onclick="setActive(this)">Off</button>
                        <button class="state-btn state-on active" onclick="setActive(this)">On</button>
                    </div>
            </div>

        </div>
        </div>
        
        <!-- Bulk edit content -->
        <div id="bulkEditContent" style="display: none;">
                <div class="panel-field">
                    <div class="panel-label">Desk Type</div>
                    <select class="panel-select">
                        <option value="">Select Type</option>
                        <option value="standard">Standard</option>
                        <option value="standing">Standing</option>
                        <option value="executive">Executive</option>
                    </select>   
                </div>
                <div class="panel-field">
                    <div class="panel-label">Desk Group</div>
                    <select class="panel-select">
                        <option value="">Select Group</option>
                        <option value="engineering">Engineering</option>
                        <option value="sales">Sales</option>
                        <option value="marketing">Marketing</option>
                    </select>
                </div>
                <div class="panel-field">
                    <div class="panel-label">Desk Zone</div>
                    <select class="panel-select">
                        <option value="">Select Zone</option>
                        <option value="quiet">Quiet Zone</option>
                        <option value="collaborative">Collaborative Zone</option>
                        <option value="window">Window Zone</option>
                    </select>
                </div>

            <div class="section-divider"></div>

            <div class="panel-field-inline">
                <div class="panel-label">Wireless Charging</div>
                    <div class="three-state-button">
                        <button class="state-btn state-off" onclick="setActive(this)">Off</button>
                        <button class="state-btn" onclick="setActive(this)">Auto</button>
                        <button class="state-btn state-on active" onclick="setActive(this)">On</button>
                    </div>
            </div>

            <div class="panel-field-inline">
                <div class="panel-label">Power Control</div>
                    <div class="three-state-button">
                        <button class="state-btn state-off active" onclick="setActive(this)">Off</button>
                        <button class="state-btn" onclick="setActive(this)">Auto</button>
                        <button class="state-btn state-on" onclick="setActive(this)">On</button>
                    </div>
            </div>

            <div class="section-divider"></div>

            <div class="panel-field-inline">
                <div class="panel-label">Desk Tags</div>
                <div class="clear-all">Clear All Tags</div>
            </div>
                <div class="tags-container">
                    <span class="tag">Chair Toilet <span class="tag-close">×</span></span>
                    <span class="tag">Sunny <span class="tag-close">×</span></span>
                    <span class="tag">Dual Screen <span class="tag-close">×</span></span>
                    <span class="tag">Fragrance <span class="tag-close">×</span></span>
                </div>

            <div class="section-divider"></div>

            <div class="panel-field-inline">
                <div class="panel-label">Set Desk Status</div>
                    <div class="two-state-button">
                        <button class="state-btn state-off" onclick="setActive(this)">Off</button>
                        <button class="state-btn state-on active" onclick="setActive(this)">On</button>
                    </div>
            </div>
</div>
        </div>
    </div>
</div>
    </div>

    <script>
        // Zoom and Pan State
        let scale = 1;
        let translateX = 0;
        let translateY = 0;
        let isPanning = false;
        let panStartX = 0;
        let panStartY = 0;
        let spacePressed = false;
        const mapContainer = document.getElementById('mapContainer');
        const content = document.getElementById('content');
        
        // Space key handling for pan mode
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space' && !spacePressed) {
                spacePressed = true;
                content.classList.add('space-pressed');
                e.preventDefault();
            }
        });
        
        document.addEventListener('keyup', function(e) {
            if (e.code === 'Space') {
                spacePressed = false;
                content.classList.remove('space-pressed');
                if (isPanning) {
                    isPanning = false;
                    content.classList.remove('panning');
                }
            }
        });
        
        // Pan on space + drag
        content.addEventListener('mousedown', function(e) {
            if (spacePressed) {
                isPanning = true;
                panStartX = e.clientX - translateX;
                panStartY = e.clientY - translateY;
                content.classList.add('panning');
                e.preventDefault();
            }
        });
        
        document.addEventListener('mousemove', function(e) {
            if (isPanning && spacePressed) {
                translateX = e.clientX - panStartX;
                translateY = e.clientY - panStartY;
                updateTransform();
                e.preventDefault();
            }
        });
        
        document.addEventListener('mouseup', function(e) {
            if (isPanning) {
                isPanning = false;
                content.classList.remove('panning');
            }
        });
        
        // Zoom with mouse wheel
        content.addEventListener('wheel', function(e) {
            e.preventDefault();
            
            const rect = content.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            const oldScale = scale;
            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            scale = Math.min(Math.max(0.5, scale * delta), 3);
            
            // Adjust translation to zoom toward mouse position
            translateX = mouseX - (mouseX - translateX) * (scale / oldScale);
            translateY = mouseY - (mouseY - translateY) * (scale / oldScale);
            
            updateTransform();
        }, { passive: false });
        
        function updateTransform() {
            mapContainer.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
        }
        
        // Toggle desk numbers visibility
        document.getElementById('toggleNumbers').addEventListener('click', function() {
            const numbersLayer = document.getElementById('deskNumbers');
            numbersLayer.classList.toggle('visible');
        });

        // Define desk positions - coordinates are percentages of the map (1202 x 695)
        // Format: { x: percentage, y: percentage, status: 'confirmed'|'reserved'|'free' }
        const deskPositions = [

        //top islands

    { x: 8.5, y: 1.5, status: 'free' },      
    { x: 14.75, y: 1.5, status: 'confirmed' },     
    { x: 21, y: 1.5, status: 'free' },    
    { x: 27.5, y: 1.5, status: 'reserved' }, 
    { x: 34, y: 1.5, status: 'reserved' }, 
    { x: 45.2, y: 1.5, status: 'confirmed' },
    { x: 51.45, y: 1.5, status: 'confirmed' },
    { x: 57.85, y: 1.5, status: 'confirmed' },
    { x: 64.25, y: 1.5, status: 'confirmed' },
    { x: 70.65, y: 1.5, status: 'confirmed' }, 
    { x: 77.05, y: 1.5, status: 'reserved' }, 
    { x: 83.45, y: 1.5, status: 'free' },    
    
        //2nd row

    { x: 8.5, y: 6.65, status: 'free' },      
    { x: 14.75, y: 6.65, status: 'free' },     
    { x: 21, y: 6.65, status: 'free' },    
    { x: 27.5, y: 6.65, status: 'confirmed' }, 
    { x: 34, y: 6.65, status: 'free' }, 
    { x: 45.2, y: 6.65, status: 'free' },
    { x: 51.45, y: 6.65, status: 'reserved' },
    { x: 57.85, y: 6.65, status: 'confirmed' },
    { x: 64.25, y: 6.65, status: 'confirmed' },
    { x: 70.65, y: 6.65, status: 'reserved' }, 
    { x: 77.05, y: 6.65, status: 'confirmed' }, 
    { x: 83.45, y: 6.65, status: 'free' }, 

        //small island

    { x: 14.75, y: 23.5, status: 'free' },     
    { x: 21, y: 23.5, status: 'confirmed' },    
    { x: 14.75, y: 28.6, status: 'reserved' },     
    { x: 21, y: 28.6, status: 'confirmed' },   
 
            //island 3
            
    { x: 8.5, y: 45.7, status: 'free' },  
    { x: 14.75, y: 45.7, status: 'free' },     
    { x: 21, y: 45.7, status: 'confirmed' },       
    { x: 27.5, y: 45.7, status: 'confirmed' },   
    { x: 34, y: 45.7, status: 'free' },  

    { x: 8.5, y: 50.7, status: 'confirmed' },  
    { x: 14.75, y: 50.7, status: 'confirmed' },     
    { x: 21, y: 50.7, status: 'confirmed' },      
    { x: 27.5, y: 50.7, status: 'reserved' },   
    { x: 34, y: 50.7, status: 'free' },  

    //little island 1
            
    { x: 8.5, y: 67.8, status: 'free' },  
    { x: 14.75, y: 67.8, status: 'reserved' },     
    { x: 21, y: 67.8, status: 'confirmed' },

    { x: 8.5, y: 72.85, status: 'confirmed' },  
    { x: 14.75, y: 72.85, status: 'reserved' },     
    { x: 21, y: 72.85, status: 'free' },

    //little island 2

    { x: 29.5, y: 67.8, status: 'free' },  
    { x: 36, y: 67.8, status: 'reserved' },  

    { x: 29.5, y: 72.85, status: 'confirmed' },  
    { x: 36, y: 72.85, status: 'confirmed' }, 
    
    //little island 3

    { x: 49.2, y: 67.8, status: 'free' },  
    { x: 49.2, y: 72.85, status: 'confirmed' },  

    //little island 4

    { x: 57.2, y: 67.8, status: 'free' },  
    { x: 63.6, y: 67.8, status: 'confirmed' },  
    { x: 70, y: 67.8, status: 'confirmed' },  

    { x: 57.2, y: 72.85, status: 'confirmed' },  
    { x: 63.6, y: 72.85, status: 'confirmed' },  
    { x: 70, y: 72.85, status: 'reserved' },  

        //bottom island

    { x: 7, y: 89.8, status: 'free' },
    { x: 13.4, y: 89.8, status: 'reserved' },
    { x: 19.7, y: 89.8, status: 'confirmed' },
    { x: 26.1, y: 89.8, status: 'confirmed' },
    { x: 32.5, y: 89.8, status: 'reserved' },
    { x: 38.9, y: 89.8, status: 'confirmed' },
    { x: 45.3, y: 89.8, status: 'free' },
    { x: 51.6, y: 89.8, status: 'free' },
    { x: 58, y: 89.8, status: 'confirmed' },
    { x: 64.37, y: 89.8, status: 'reserved' },
    { x: 70.7, y: 89.8, status: 'free' },

    { x: 7, y: 94.9, status: 'reserved' },
    { x: 13.4, y: 94.9, status: 'reserved' },
    { x: 19.7, y: 94.9, status: 'confirmed' },
    { x: 26.1, y: 94.9, status: 'free' },
    { x: 32.5, y: 94.9, status: 'reserved' },
    { x: 38.9, y: 94.9, status: 'confirmed' },
    { x: 45.3, y: 94.9, status: 'confirmed' },
    { x: 51.6, y: 94.9, status: 'reserved' },
    { x: 58, y: 94.9, status: 'free' },
    { x: 64.37, y: 94.9, status: 'confirmed' },
    { x: 70.7, y: 94.9, status: 'free' },

];

        // Create desk dots at fixed positions
        const dotsLayer = document.getElementById('dotsLayer');
        const dots = [];
        const statusColors = {
            'confirmed': '#e54d42',
            'reserved': '#ffab10',
            'free': '#00c18d'
        };
        
        deskPositions.forEach((desk, i) => {
            const dot = document.createElement('div');
            dot.className = 'desk-dot';
            dot.style.backgroundColor = statusColors[desk.status];
            dot.style.left = desk.x + '%';
            dot.style.top = desk.y + '%';
            dot.dataset.status = desk.status;
            dot.dataset.id = i;
            dotsLayer.appendChild(dot);
            dots.push(dot);
        });

        // Invert selection
        document.getElementById('invertSelection').addEventListener('click', function() {
            const currentlySelected = new Set(selectedDots);
            selectedDots = dots.filter(dot => !currentlySelected.has(dot));
            updateSelection();
            if (selectedDots.length > 0) {
                showPanel('green');
            } else {
                sidePanel.classList.remove('open');
            }
        });

        // Clear selection
document.getElementById('clearSelection').addEventListener('click', function() {
    selectedDots = [];
    updateSelection();
    sidePanel.classList.remove('open');
});

        // Color widget click handlers
        document.getElementById('selectConfirmed').addEventListener('click', function(e) {
            const confirmedDots = dots.filter(dot => dot.dataset.status === 'confirmed');
            if (e.shiftKey) {
                // Add to existing selection
                confirmedDots.forEach(dot => {
                    if (!selectedDots.includes(dot)) {
                        selectedDots.push(dot);
                    }
                });
            } else {
                // Replace selection
                selectedDots = confirmedDots;
            }
            updateSelection();
            showPanel(selectedDots.length === 1 ? 'white' : 'green');
        });
        
        document.getElementById('selectReserved').addEventListener('click', function(e) {
            const reservedDots = dots.filter(dot => dot.dataset.status === 'reserved');
            if (e.shiftKey) {
                // Add to existing selection
                reservedDots.forEach(dot => {
                    if (!selectedDots.includes(dot)) {
                        selectedDots.push(dot);
                    }
                });
            } else {
                // Replace selection
                selectedDots = reservedDots;
            }
            updateSelection();
            showPanel(selectedDots.length === 1 ? 'white' : 'green');
        });
        
        document.getElementById('selectFree').addEventListener('click', function(e) {
            const freeDots = dots.filter(dot => dot.dataset.status === 'free');
            if (e.shiftKey) {
                // Add to existing selection
                freeDots.forEach(dot => {
                    if (!selectedDots.includes(dot)) {
                        selectedDots.push(dot);
                    }
                });
            } else {
                // Replace selection
                selectedDots = freeDots;
            }
            updateSelection();
            showPanel(selectedDots.length === 1 ? 'white' : 'green');
        });

        // Selection logic
        const sidePanel = document.getElementById('sidePanel');
        const panelTitle = document.getElementById('panelTitle');
        const panelContent = document.getElementById('panelContent');
        const panelClose = document.getElementById('panelClose');
        let selectedDots = [];
        let isSelecting = false;
        let isAdditive = false;
        let selectionBox = null;
        let startX, startY;

        // Single click on dot
        dots.forEach(dot => {
            dot.addEventListener('click', function(e) {
                e.stopPropagation();
                if (!isSelecting && !isPanning) {
                    if (e.shiftKey) {
                        // Shift-click: add/remove from selection
                        const index = selectedDots.indexOf(dot);
                        if (index > -1) {
                            selectedDots.splice(index, 1);
                        } else {
                            selectedDots.push(dot);
                        }
                        updateSelection();
                        if (selectedDots.length > 0) {
                            showPanel(selectedDots.length === 1 ? 'white' : 'green');
                        } else {
                            sidePanel.classList.remove('open');
                        }
                    } else {
                        // Regular click: select only this dot
                        selectedDots = [dot];
                        updateSelection();
                        showPanel('white');
                    }
                }
            });
        });

        // Click and drag selection
        dotsLayer.addEventListener('mousedown', function(e) {
            if (e.target.classList.contains('desk-dot') || spacePressed) return;
            
            isSelecting = true;
            isAdditive = e.shiftKey;
            const contentRect = content.getBoundingClientRect();
            startX = e.clientX;
            startY = e.clientY;
            
            selectionBox = document.createElement('div');
            selectionBox.className = 'selection-box';
            selectionBox.style.left = (startX - contentRect.left) + 'px';
            selectionBox.style.top = (startY - contentRect.top) + 'px';
            content.appendChild(selectionBox);
        });

        document.addEventListener('mousemove', function(e) {
            if (!isSelecting) return;
            
            const contentRect = content.getBoundingClientRect();
            const currentX = e.clientX;
            const currentY = e.clientY;
            const width = Math.abs(currentX - startX);
            const height = Math.abs(currentY - startY);
            const left = Math.min(startX, currentX) - contentRect.left;
            const top = Math.min(startY, currentY) - contentRect.top;
            
            selectionBox.style.left = left + 'px';
            selectionBox.style.top = top + 'px';
            selectionBox.style.width = width + 'px';
            selectionBox.style.height = height + 'px';
        });

        document.addEventListener('mouseup', function(e) {
            if (!isSelecting) return;
            
            isSelecting = false;
            
            // Check which dots are in the selection box
            const boxRect = selectionBox.getBoundingClientRect();
            const newSelection = [];
            
            dots.forEach(dot => {
                const dotRect = dot.getBoundingClientRect();
                if (
                    dotRect.left < boxRect.right &&
                    dotRect.right > boxRect.left &&
                    dotRect.top < boxRect.bottom &&
                    dotRect.bottom > boxRect.top
                ) {
                    newSelection.push(dot);
                }
            });
            
            if (selectionBox) {
                selectionBox.remove();
                selectionBox = null;
            }
            
            // If Shift was held, add to existing selection instead of replacing
            if (isAdditive && newSelection.length > 0) {
                newSelection.forEach(dot => {
                    if (!selectedDots.includes(dot)) {
                        selectedDots.push(dot);
                    }
                });
            } else if (newSelection.length > 0) {
                selectedDots = newSelection;
            } else if (!isAdditive) {
                // Only deselect all if not holding Shift and clicking empty space
                selectedDots = [];
            }
            
            if (selectedDots.length > 0) {
                updateSelection();
                showPanel(selectedDots.length === 1 ? 'white' : 'green');
            } else {
                dots.forEach(dot => dot.classList.remove('selected'));
                sidePanel.classList.remove('open');
            }
            
            isAdditive = false;
        });

        function updateSelection() {
            dots.forEach(dot => dot.classList.remove('selected'));
            selectedDots.forEach(dot => dot.classList.add('selected'));
        }

function showPanel(theme) {
    sidePanel.className = 'side-panel open ' + theme + '-theme';
    
    const singleContent = document.getElementById('singleDeskContent');
    const bulkContent = document.getElementById('bulkEditContent');
    const panelTitleText = document.getElementById('panelTitleText');
    const panelMoreInfoIcon = document.getElementById('panelMoreInfoIcon');
    const panelTitleIcon = document.getElementById('panelTitleIcon');
    const panelCount = document.getElementById('panelCount');

    if (theme === 'white') {
        panelTitleText.textContent = 'L4.102';
        panelMoreInfoIcon.style.display = 'block';
        panelTitleIcon.style.display = 'block';
        panelCount.style.display = 'none';
        singleContent.style.display = 'block';
        bulkContent.style.display = 'none';
    } else {
        panelTitleText.textContent = 'Bulk Edit Desks';
        panelMoreInfoIcon.style.display = 'none';
        panelTitleIcon.style.display = 'none';
        panelCount.style.display = 'inline';
        panelCount.innerHTML = 'Selected Desks: <span style="font-weight:600">' + selectedDots.length + '</span>';
        singleContent.style.display = 'none';
        bulkContent.style.display = 'block';
    }
}



        // Update select dropdowns
        document.getElementById('building-select').addEventListener('change', function() {
            this.previousElementSibling.nextElementSibling.textContent = this.options[this.selectedIndex].text;
        });

        document.getElementById('floor-select').addEventListener('change', function() {
            this.previousElementSibling.nextElementSibling.textContent = this.options[this.selectedIndex].text;
        });

        document.getElementById('date-select').addEventListener('change', function() {
            const date = new Date(this.value);
            const formatted = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            this.previousElementSibling.textContent = formatted;
        });

        // Toggle info section
document.getElementById('panelMoreInfoIcon').addEventListener('click', function() {
    const infoSection = document.getElementById('infoSection');
    infoSection.classList.toggle('expanded');
});

    </script>

<!-- Tri/Duo Button Script -->

    <script>
        function setActive(btn) {
            // Get siblings within the same parent
            const siblings = btn.parentElement.children;
            
            // Remove active from all siblings
            for (let sibling of siblings) {
                sibling.classList.remove('active');
            }
            
            // Add active to clicked button
            btn.classList.add('active');
        }
    </script>

</body>
</html>
